<!DOCTYPE html>
<html lang="fr">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<title>Documentation XtraWork API - Index</title>
<style>
	.gpt15 {
		--text: #1f2937; --muted: #374151; --title: #111827; --blue: #2563eb; --green: #22c55e; --orange: #f59e0b; --red: #ef4444; --violet: #7c3aed; --cyan: #06b6d4; --yellow: #eab308; --slate: #0f172a; --bg: #ffffff; --soft: #f8fafc; --soft-blue: #eff6ff; --soft-green: #f0fdf4; --soft-orange: #fffbeb; --soft-red: #fef2f2; --border: #e5e7eb; --border-strong: #cbd5e1; --shadow: 0 6px 18px rgba(17, 24, 39, .06);
	}
	
	.gpt15 .page {
		max-width: 980px; margin: 40px auto 80px; padding: 24px 24px 32px; color: var(--text); font-family: "Segoe UI", Roboto, Arial, Helvetica, sans-serif; line-height: 1.7; background: var(--bg); border: 1px solid var(--border); border-radius: 16px; box-shadow: var(--shadow);
	}
	
	.gpt15 h1, .gpt15 h2, .gpt15 h3 {
		color: var(--title); font-weight: 700; line-height: 1.2; margin: 1.25rem 0 .75rem
	}
	
	.gpt15 h1 { font-size: 2rem; letter-spacing: .2px }
	.gpt15 .meta { color: var(--blue); font-weight: 600; margin: -.25rem 0 1.1rem }
	.gpt15 .hr { height: 1px; background: linear-gradient(90deg, transparent, #93c5fd, transparent); border: none; margin: 1.25rem 0 }
	
	.gpt15 .callout {
		background: var(--soft); color: var(--text); border: 1px solid var(--border); border-left-width: 6px; border-radius: 12px; padding: 14px 16px; margin: 16px 0
	}
	.gpt15 .callout.note { border-left-color: #1e90ff; background: var(--soft-blue) }
	.gpt15 .callout.tip { border-left-color: var(--green); background: var(--soft-green) }
	.gpt15 .callout.warn { border-left-color: var(--red); background: var(--soft-red) }
	
	.gpt15 .card {
		background: #fff; border: 1px solid var(--border); border-radius: 14px; padding: 14px 16px; box-shadow: 0 2px 10px rgba(17, 24, 39, .04); margin: 12px 0;
	}
	
	.gpt15 .grid-2 { display: grid; grid-template-columns: 1fr; gap: 16px }
	.gpt15 .grid-3 { display: grid; grid-template-columns: 1fr; gap: 16px }
	.gpt15 .grid-4 { display: grid; grid-template-columns: 1fr; gap: 16px }
	
	@media (min-width:860px) {
		.gpt15 .grid-2 { grid-template-columns: 1fr 1fr }
		.gpt15 .grid-3 { grid-template-columns: 1fr 1fr 1fr }
		.gpt15 .grid-4 { grid-template-columns: 1fr 1fr 1fr 1fr }
	}
	
	.gpt15 .checklist li { margin: .3rem 0; list-style: none; position: relative; padding-left: 1.2rem }
	.gpt15 .checklist li::before {
		content: ""; position: absolute; left: 0; top: .45rem; width: .65rem; height: .65rem; border-radius: 3px; background: linear-gradient(135deg, var(--green), #86efac)
	}
	
	.gpt15 table { width: 100%; border-collapse: collapse; margin: 20px 0; }
	.gpt15 th, .gpt15 td { border: 1px solid var(--border); padding: 12px; text-align: left; }
	.gpt15 th { background: var(--soft-blue); font-weight: 600; }
	
	.layer-badge {
		display: inline-block; padding: 4px 12px; border-radius: 20px; font-size: 0.85rem; font-weight: 600; margin-right: 8px;
	}
	
	.layer-1 { background: linear-gradient(135deg, #3b82f6, #60a5fa); color: white; }
	.layer-2 { background: linear-gradient(135deg, #8b5cf6, #a78bfa); color: white; }
	.layer-3 { background: linear-gradient(135deg, #10b981, #34d399); color: white; }
	.layer-4 { background: linear-gradient(135deg, #f59e0b, #fbbf24); color: white; }
	.layer-5 { background: linear-gradient(135deg, #ef4444, #f87171); color: white; }
	.layer-6 { background: linear-gradient(135deg, #06b6d4, #22d3ee); color: white; }
	.layer-7 { background: linear-gradient(135deg, #ec4899, #f472b6); color: white; }
	.layer-8 { background: linear-gradient(135deg, #6366f1, #818cf8); color: white; }

</style>
</head>
<body>
<section class="gpt15" id="gpt15">
	<div class="page">

		<h1>Documentation XtraWork API</h1>

		<p class="meta">Architecture Complete &bull; 24 Classes Expliquees &bull; Guide Etudiant</p>
		<div class="callout note"><strong>Guide pedagogique complet</strong> &mdash; Chaque classe du projet XtraWork est expliquee en detail avec code source, exemples pratiques et diagrammes. Cette documentation est concue pour les etudiants souhaitant comprendre l'architecture ASP.NET Core en profondeur.</div>
		<div class="hr"><br></div>

		<h2>Vue d'Ensemble du Projet</h2>
		
		<div class="grid-3">
			<div class="card">
				<h3>Statistiques</h3>
				<ul class="checklist">
					<li><strong>24 classes</strong> documentees</li>
					<li><strong>8 couches</strong> architecturales</li>
					<li><strong>3 entites</strong> metier</li>
					<li><strong>15 endpoints</strong> API REST</li>
				</ul>
			</div>
			
			<div class="card">
				<h3>Technologies</h3>
				<ul class="checklist">
					<li>ASP.NET Core 6.0</li>
					<li>Entity Framework Core</li>
					<li>SQL Server 2022</li>
					<li>JWT Authentication</li>
					<li>FluentValidation</li>
				</ul>
			</div>
			
			<div class="card">
				<h3>Contenu</h3>
				<ul class="checklist">
					<li>Code source complet</li>
					<li>Explications ligne par ligne</li>
					<li>Exemples pratiques</li>
					<li>Concepts cles</li>
				</ul>
			</div>
		</div>

		<div class="hr"><br></div>

		<h2 id="entities">COUCHE 1 : Entities (Entites)</h2>
		<div class="callout tip"><strong>Role</strong> &mdash; Les entites representent les tables de la base de donnees. Elles definissent la structure des donnees et les relations entre entites.</div>
		
		<div class="grid-3">
			<div class="card">
				<h3><span class="layer-badge layer-1">Entity</span>User.cs</h3>
				<p>Represente un utilisateur du systeme avec authentification et autorisation.</p>
				<ul class="checklist">
					<li>10 proprietes</li>
					<li>Table : Users</li>
					<li>Roles : User, Manager, Admin</li>
					<li>Hash BCrypt pour mot de passe</li>
				</ul>
				<a href="entities/User.html">Voir la documentation</a>
			</div>
			
			<div class="card">
				<h3><span class="layer-badge layer-1">Entity</span>Title.cs</h3>
				<p>Represente un titre/poste dans l'entreprise.</p>
				<ul class="checklist">
					<li>4 proprietes</li>
					<li>Table : Titles</li>
					<li>Relation 1:N avec Employee</li>
					<li>Navigation property</li>
				</ul>
				<a href="entities/Title.html">Voir la documentation</a>
			</div>
			
			<div class="card">
				<h3><span class="layer-badge layer-1">Entity</span>Employee.cs</h3>
				<p>Represente un employe de l'entreprise.</p>
				<ul class="checklist">
					<li>8 proprietes</li>
					<li>Table : Employees</li>
					<li>FK vers Title</li>
					<li>Calcul d'age automatique</li>
				</ul>
				<a href="entities/Employee.html">Voir la documentation</a>
			</div>
		</div>

		<div class="hr"><br></div>

		<h2 id="repositories">COUCHE 2 : Repositories (Acces Donnees)</h2>
		<div class="callout tip"><strong>Role</strong> &mdash; Les repositories gerent l'acces aux donnees. Ils encapsulent les operations CRUD et les requetes vers la base de donnees via Entity Framework.</div>
		
		<div class="grid-2">
			<div class="card">
				<h3><span class="layer-badge layer-2">DbContext</span>XtraWorkContext.cs</h3>
				<p>DbContext principal de l'application Entity Framework.</p>
				<ul class="checklist">
					<li>3 DbSet (Users, Titles, Employees)</li>
					<li>Configuration OnModelCreating</li>
					<li>Relations et contraintes</li>
					<li>Index uniques</li>
				</ul>
				<a href="repositories/XtraWorkContext.html">Voir la documentation</a>
			</div>
			
			<div class="card">
				<h3><span class="layer-badge layer-2">Repository</span>UserRepository.cs</h3>
				<p>Gestion des operations CRUD sur les utilisateurs.</p>
				<ul class="checklist">
					<li>GetByUsernameAsync()</li>
					<li>GetByEmailAsync()</li>
					<li>CreateAsync(), UpdateAsync()</li>
					<li>GetByRoleAsync()</li>
				</ul>
				<a href="repositories/UserRepository.html">Voir la documentation</a>
			</div>
		</div>
		
		<div class="grid-2">
			<div class="card">
				<h3><span class="layer-badge layer-2">Repository</span>TitleRepository.cs</h3>
				<p>Gestion des operations CRUD sur les titres.</p>
				<ul class="checklist">
					<li>GetAllAsync(), GetByIdAsync()</li>
					<li>CreateAsync(), UpdateAsync()</li>
					<li>DeleteAsync(), ExistsAsync()</li>
					<li>Include navigation property</li>
				</ul>
				<a href="repositories/TitleRepository.html">Voir la documentation</a>
			</div>
			
			<div class="card">
				<h3><span class="layer-badge layer-2">Repository</span>EmployeeRepository.cs</h3>
				<p>Gestion des operations CRUD sur les employes.</p>
				<ul class="checklist">
					<li>GetAllAsync() avec Include</li>
					<li>GetByTitleIdAsync()</li>
					<li>OrderBy + ThenBy</li>
					<li>Relations chargees automatiquement</li>
				</ul>
				<a href="repositories/EmployeeRepository.html">Voir la documentation</a>
			</div>
		</div>

		<div class="hr"><br></div>

		<h2 id="services">COUCHE 3 : Services (Logique Metier)</h2>
		<div class="callout tip"><strong>Role</strong> &mdash; Les services contiennent la logique metier de l'application. Ils orchestrent les repositories, appliquent les regles metier et transforment les donnees entre entites et DTOs.</div>
		
		<div class="grid-3">
			<div class="card">
				<h3><span class="layer-badge layer-3">Service</span>AuthService.cs</h3>
				<p>Service d'authentification JWT complet.</p>
				<ul class="checklist">
					<li>LoginAsync(), RegisterAsync()</li>
					<li>Generation tokens JWT</li>
					<li>Validation tokens</li>
					<li>Hash BCrypt des mots de passe</li>
					<li>Claims (roles, userId, email)</li>
				</ul>
				<a href="services/AuthService.html">Voir la documentation</a>
			</div>
			
			<div class="card">
				<h3><span class="layer-badge layer-3">Service</span>TitleService.cs</h3>
				<p>Logique metier pour les titres.</p>
				<ul class="checklist">
					<li>Transformation Title TitleResponse</li>
					<li>GetAll(), Get(), Create()</li>
					<li>Update(), Delete()</li>
					<li>Gestion NotFoundException</li>
				</ul>
				<a href="services/TitleService.html">Voir la documentation</a>
			</div>
			
			<div class="card">
				<h3><span class="layer-badge layer-3">Service</span>EmployeeService.cs</h3>
				<p>Logique metier pour les employes.</p>
				<ul class="checklist">
					<li>Flattening de Title.Description</li>
					<li>Verification TitleId existe</li>
					<li>Transformation DTO</li>
					<li>Reload avec Include apres creation</li>
				</ul>
				<a href="services/EmployeeService.html">Voir la documentation</a>
			</div>
		</div>

		<div class="hr"><br></div>

		<h2 id="controllers">COUCHE 4 : Controllers (Points d'Entree API)</h2>
		<div class="callout tip"><strong>Role</strong> &mdash; Les controllers exposent les endpoints HTTP. Ils recoivent les requetes, appellent les services appropries et retournent les reponses HTTP avec les codes de statut corrects.</div>
		
		<div class="grid-2">
			<div class="card">
				<h3><span class="layer-badge layer-4">Controller</span>AuthController.cs</h3>
				<p>Endpoints d'authentification et autorisation.</p>
				<ul class="checklist">
					<li>POST /api/auth/login</li>
					<li>POST /api/auth/register</li>
					<li>GET /api/auth/me (protege)</li>
					<li>POST /api/auth/validate</li>
					<li>POST /api/auth/logout</li>
				</ul>
				<a href="controllers/AuthController.html">Voir la documentation</a>
			</div>
			
			<div class="card">
				<h3><span class="layer-badge layer-4">Controller</span>TitleController.cs</h3>
				<p>CRUD complet pour les titres avec autorisations.</p>
				<ul class="checklist">
					<li>GET /api/title (tous authentifies)</li>
					<li>POST /api/title (Admin only)</li>
					<li>PUT /api/title/{id} (Manager/Admin)</li>
					<li>DELETE /api/title/{id} (Admin only)</li>
				</ul>
				<a href="controllers/TitleController.html">Voir la documentation</a>
			</div>
		</div>
		
		<div class="grid-2">
			<div class="card">
				<h3><span class="layer-badge layer-4">Controller</span>EmployeeController.cs</h3>
				<p>CRUD pour les employes avec autorisations.</p>
				<ul class="checklist">
					<li>GET /api/employee (tous authentifies)</li>
					<li>POST /api/employee (authentifie)</li>
					<li>PUT /api/employee/{id} (authentifie)</li>
					<li>DELETE /api/employee/{id} (Manager/Admin)</li>
				</ul>
				<a href="controllers/EmployeeController.html">Voir la documentation</a>
			</div>
			
			<div class="card">
				<h3><span class="layer-badge layer-4">Controller</span>WeatherForecastController.cs</h3>
				<p>Controller de demonstration (template ASP.NET).</p>
				<ul class="checklist">
					<li>Exemple de base</li>
					<li>Peut etre supprime</li>
					<li>GET /weatherforecast</li>
				</ul>
				<a href="controllers/WeatherForecastController.html">Voir la documentation</a>
			</div>
		</div>

		<div class="hr"><br></div>

		<h2 id="validators">COUCHE 5 : Validators (Validation)</h2>
		<div class="callout tip"><strong>Role</strong> &mdash; Les validators utilisent FluentValidation pour definir des regles de validation complexes. Ils verifient les donnees entrantes avant leur traitement.</div>
		
		<div class="grid-2">
			<div class="card">
				<h3><span class="layer-badge layer-5">Validator</span>TitleRequestValidator.cs</h3>
				<p>Validation des donnees de titre.</p>
				<ul class="checklist">
					<li>Description : NotEmpty, Min 2, Max 100</li>
					<li>Regex : lettres, chiffres, espaces, tirets</li>
					<li>Messages d'erreur personnalises</li>
				</ul>
				<a href="validators/TitleRequestValidator.html">Voir la documentation</a>
			</div>
			
			<div class="card">
				<h3><span class="layer-badge layer-5">Validator</span>EmployeeRequestValidator.cs</h3>
				<p>Validation des donnees d'employe.</p>
				<ul class="checklist">
					<li>FirstName, LastName : Min 2, Max 50</li>
					<li>BirthDate : age entre 16 et 70 ans</li>
					<li>Gender : M, F ou Autre</li>
					<li>Methodes de validation custom</li>
				</ul>
				<a href="validators/EmployeeRequestValidator.html">Voir la documentation</a>
			</div>
		</div>

		<div class="hr"><br></div>

		<h2 id="requests">COUCHE 6 : Requests (DTOs Entrants)</h2>
		<div class="callout tip"><strong>Role</strong> &mdash; Les DTOs Request representent les donnees envoyees par le client vers l'API. Ils definissent la structure attendue pour les operations POST et PUT.</div>
		
		<div class="grid-2">
			<div class="card">
				<h3><span class="layer-badge layer-6">Request</span>RegisterRequest.cs</h3>
				<p>Donnees pour l'inscription d'un utilisateur.</p>
				<ul class="checklist">
					<li>username, email, password</li>
					<li>firstName, lastName</li>
					<li>Attributs [Required], [EmailAddress]</li>
				</ul>
				<a href="requests/RegisterRequest.html">Voir la documentation</a>
			</div>
			
			<div class="card">
				<h3><span class="layer-badge layer-6">Request</span>LoginRequest.cs</h3>
				<p>Donnees pour la connexion.</p>
				<ul class="checklist">
					<li>username, password</li>
					<li>Validation [Required]</li>
					<li>Messages d'erreur francais</li>
				</ul>
				<a href="requests/LoginRequest.html">Voir la documentation</a>
			</div>
		</div>
		
		<div class="grid-2">
			<div class="card">
				<h3><span class="layer-badge layer-6">Request</span>TitleRequest.cs</h3>
				<p>Donnees pour creer/modifier un titre.</p>
				<ul class="checklist">
					<li>description</li>
					<li>[Required], [MaxLength(100)]</li>
					<li>Utilise par TitleController</li>
				</ul>
				<a href="requests/TitleRequest.html">Voir la documentation</a>
			</div>
			
			<div class="card">
				<h3><span class="layer-badge layer-6">Request</span>EmployeeRequest.cs</h3>
				<p>Donnees pour creer/modifier un employe.</p>
				<ul class="checklist">
					<li>firstName, lastName, birthDate</li>
					<li>gender, titleId</li>
					<li>Validation complete</li>
				</ul>
				<a href="requests/EmployeeRequest.html">Voir la documentation</a>
			</div>
		</div>

		<div class="hr"><br></div>

		<h2 id="responses">COUCHE 7 : Responses (DTOs Sortants)</h2>
		<div class="callout tip"><strong>Role</strong> &mdash; Les DTOs Response representent les donnees envoyees de l'API vers le client. Ils permettent de controler exactement quelles donnees sont exposees et d'appliquer des transformations (flattening, calculs, etc.).</div>
		
		<div class="grid-3">
			<div class="card">
				<h3><span class="layer-badge layer-7">Response</span>AuthResponse.cs</h3>
				<p>Reponse d'authentification avec token JWT.</p>
				<ul class="checklist">
					<li>token (string JWT)</li>
					<li>user (UserResponse)</li>
					<li>Retourne par login/register</li>
				</ul>
				<a href="responses/AuthResponse.html">Voir la documentation</a>
			</div>
			
			<div class="card">
				<h3><span class="layer-badge layer-7">Response</span>TitleResponse.cs</h3>
				<p>Reponse pour un titre.</p>
				<ul class="checklist">
					<li>id, description, createdAt</li>
					<li>Transformation depuis Title</li>
					<li>Utilise par TitleService</li>
				</ul>
				<a href="responses/TitleResponse.html">Voir la documentation</a>
			</div>
			
			<div class="card">
				<h3><span class="layer-badge layer-7">Response</span>EmployeeResponse.cs</h3>
				<p>Reponse pour un employe avec donnees enrichies.</p>
				<ul class="checklist">
					<li>id, firstName, lastName, birthDate</li>
					<li>titleDescription (flatte)</li>
					<li>age (propriete calculee)</li>
				</ul>
				<a href="responses/EmployeeResponse.html">Voir la documentation</a>
			</div>
		</div>

		<div class="hr"><br></div>

		<h2 id="exceptions">COUCHE 8 : Exceptions (Gestion d'Erreurs)</h2>
		<div class="callout tip"><strong>Role</strong> &mdash; Les exceptions personnalisees permettent une gestion d'erreurs precise et coherente dans toute l'application.</div>
		
		<div class="card">
			<h3><span class="layer-badge layer-8">Exception</span>NotFoundException.cs</h3>
			<p>Exception personnalisee pour ressources introuvables.</p>
			<ul class="checklist">
				<li>Lancee quand un ID n'existe pas</li>
				<li>Retourne 404 Not Found</li>
				<li>Message personnalise</li>
				<li>Utilisee dans tous les services</li>
			</ul>
			<a href="exceptions/NotFoundException.html">Voir la documentation</a>
		</div>

		<div class="hr"><br></div>

		<h2>Comment Utiliser Cette Documentation</h2>
		
		<div class="grid-2">
			<div class="callout note">
				<strong>Pour les Etudiants Debutants</strong><br><br>
				<strong>Ordre de lecture recommande :</strong>
				<ul class="checklist">
					<li>Commencez par les Entities (User, Title, Employee)</li>
					<li>Puis les Repositories (acces donnees)</li>
					<li>Ensuite les Services (logique metier)</li>
					<li>Puis les Controllers (endpoints API)</li>
					<li>Enfin les DTOs et Validators</li>
				</ul>
			</div>
			
			<div class="callout tip">
				<strong>Chaque Page Contient :</strong>
				<ul class="checklist">
					<li>Code source C# complet</li>
					<li>Explications ligne par ligne</li>
					<li>Role et responsabilite de la classe</li>
					<li>Relations avec autres classes</li>
					<li>3-5 exemples pratiques de code</li>
					<li>Concepts cles a retenir</li>
					<li>Liens vers fichiers lies</li>
				</ul>
			</div>
		</div>

		<div class="hr"><br></div>

		<h2>Navigation Rapide</h2>
		
		<div class="grid-3">
			<div class="card">
				<h3>Par Couche</h3>
				<ul class="checklist">
					<li><a href="#entities">Entities (3)</a></li>
					<li><a href="#repositories">Repositories (4)</a></li>
					<li><a href="#services">Services (3)</a></li>
					<li><a href="#controllers">Controllers (4)</a></li>
				</ul>
			</div>
			
			<div class="card">
				<h3>Par Fonctionnalite</h3>
				<ul class="checklist">
					<li>Authentification (4 fichiers)</li>
					<li>Gestion Postes (4 fichiers)</li>
					<li>Gestion Employes (4 fichiers)</li>
				</ul>
			</div>
			
			<div class="card">
				<h3>Outils de Navigation</h3>
				<ul class="checklist">
					<li><a href="navigation-rapide.html">Liste alphabetique</a></li>
					<li><a href="endpoints-api.html">Reference API REST</a></li>
					<li>Utilisez Ctrl+F pour rechercher</li>
				</ul>
			</div>
		</div>

		<div class="callout note" style="margin-top: 30px;">
			<strong>Conseil Pedagogique</strong> &mdash; N'essayez pas de tout comprendre d'un coup ! Commencez par une entite simple (Title), suivez son parcours a travers toutes les couches (Repository - Service - Controller), puis passez a une autre. Cette approche verticale est plus efficace que de lire toutes les entites d'abord.
		</div>

		<div class="hr"><br></div>

		<p class="center"><strong>Documentation XtraWork API</strong> &bull; <em>24 Classes Expliquees pour Etudiants</em></p>
		<p class="center"><em>Cree pour faciliter l'apprentissage d'ASP.NET Core</em></p>
	</div>
</section>
</body>
</html>